function LoginController(e,n){e.login=function(o,t){n.login(o,t).then(function(o){e.$emit("login",o.data)})}}function PostsController(e,o){!function t(){o.fetch().then(function(o){e.posts=o.data?o.data:[]},function(o){});e.addPost=function(){e.body&&o.create({body:e.body}).then(function(o){e.posts.unshift(o.data),e.body=null},function(o){console.log(o)})};e.removePost=function(){o.remove({id:this.post._id}).then(function(o){t()},function(o){console.log(o)})}}()}function RegisterController(e,n){e.createUser=function(o,t){n.createUser(o,t).then(function(o){e.$emit("login",o.data)})}}LoginController.$inject=["$scope","UserService"],PostsController.$inject=["$scope","PostsService"],RegisterController.$inject=["$scope","UserService"],angular.module("app",["ngRoute"]).config(["$locationProvider",function(o){o.hashPrefix("")}]),angular.module("app").controller("ApplicationController",["$scope",function(e){e.$on("login",function(o,t){e.currentUser=t})}]),angular.module("app").controller("LoginController",LoginController),angular.module("app").controller("PostsController",PostsController),angular.module("app").service("PostsService",["$http",function(t){this.fetch=function(){return t({method:"GET",url:"http://localhost:3000/api/posts"})},this.create=function(o){return console.log(o),t({url:"/api/posts",method:"POST",data:o})},this.remove=function(o){return t({url:"/api/removePost",method:"POST",data:o})}}]),angular.module("app").controller("RegisterController",RegisterController),angular.module("app").config(["$routeProvider","$locationProvider",function(o,t){o.when("/",{controller:"PostsController",templateUrl:"posts.html"}).when("/register",{controller:"RegisterController",templateUrl:"register.html"}).when("/login",{controller:"LoginController",templateUrl:"login.html"}),t.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("app").service("UserService",["$http",function(e){var n=this;this.getUser=function(){return e({url:"/api/users",method:"GET"})},this.login=function(o,t){return e({url:"/api/sessions",method:"POST",data:{username:o,password:t}}).then(function(o){return n.token=o.data,e.defaults.headers.common["X-Auth"]=o.data,n.getUser()})},this.createUser=function(o,t){return e({url:"/api/users",method:"POST",data:{username:o,password:t}}).then(function(){return n.login(o,t)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbnRyb2xsZXIuanMiLCJwb3N0cy5jb250cm9sbGVyLmpzIiwicmVnaXN0ZXIuY29udHJvbGxlci5qcyIsIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmNvbnRyb2xsZXIuanMiLCJwb3N0cy5zZXJ2aWNlLmpzIiwicm91dGVzLmpzIiwidXNlci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsIlVzZXJTZXJ2aWNlIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidGhlbiIsInJlc3BvbnNlIiwiJGVtaXQiLCJkYXRhIiwiUG9zdHNDb250cm9sbGVyIiwiUG9zdHNTZXJ2aWNlIiwiaW5pdCIsImZldGNoIiwicG9zdHMiLCJlcnJvciIsImFkZFBvc3QiLCJib2R5IiwiY3JlYXRlIiwidW5zaGlmdCIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVQb3N0IiwicmVtb3ZlIiwiaWQiLCJ0aGlzIiwicG9zdCIsIl9pZCIsIlJlZ2lzdGVyQ29udHJvbGxlciIsImNyZWF0ZVVzZXIiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJoYXNoUHJlZml4IiwiY29udHJvbGxlciIsIiRvbiIsIl8iLCJ1c2VyIiwiY3VycmVudFVzZXIiLCJzZXJ2aWNlIiwiJGh0dHAiLCJtZXRob2QiLCJ1cmwiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImh0bWw1TW9kZSIsImVuYWJsZWQiLCJyZXF1aXJlQmFzZSIsInN2YyIsImdldFVzZXIiLCJ2YWwiLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiJdLCJtYXBwaW5ncyI6IkFBTUEsU0FBQUEsZ0JBQUFDLEVBQUFDLEdBSUFELEVBQUFFLE1BQUEsU0FBQUMsRUFBQUMsR0FDQUgsRUFBQUMsTUFBQUMsRUFBQUMsR0FDQUMsS0FBQSxTQUFBQyxHQUNBTixFQUFBTyxNQUFBLFFBQUFELEVBQUFF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ImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4ubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcilcblxuLyoqIEBuZ0luamVjdCAqL1xuXG5mdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIoJHNjb3BlLFVzZXJTZXJ2aWNlICkge1xuICAgIGluaXQoKTsgXG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSxwYXNzd29yZCkge1xuICAgICAgICBVc2VyU2VydmljZS5sb2dpbih1c2VybmFtZSxwYXNzd29yZClcbiAgICAgICAgLnRoZW4gKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIH1cbn1cbiIsImFuZ3VsYXJcbi5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignUG9zdHNDb250cm9sbGVyJywgUG9zdHNDb250cm9sbGVyKVxuXG4vKiogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBQb3N0c0NvbnRyb2xsZXIoJHNjb3BlLFBvc3RzU2VydmljZSApIHtcblxuaW5pdCgpO1xuXG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICBQb3N0c1NlcnZpY2UuZmV0Y2goKS50aGVuIChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgJHNjb3BlLnBvc3RzID0gcmVzcG9uc2UuZGF0YSA/IHJlc3BvbnNlLmRhdGEgOiBbXTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHt9KVxuICBcblxuICAgICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJHNjb3BlLmJvZHkpIHtcbiAgICAgICAgICAgUG9zdHNTZXJ2aWNlLmNyZWF0ZSh7IFxuICAgICAgICAvLyAgIHVzZXJuYW1lOiBcInNhbXBsZVVzZXJcIixcbiAgICAgICAgICAgYm9keTogJHNjb3BlLmJvZHl9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ib2R5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbiAgICAkc2NvcGUucmVtb3ZlUG9zdCA9IGZ1bmN0aW9uKCkge1xuICAgIFxuICAgICAgICAgICBQb3N0c1NlcnZpY2UucmVtb3ZlKCB7IFxuICAgICAgICAgICAgaWQ6IHRoaXMucG9zdC5faWQgICAgICAgICAgICBcbiAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbn1cbn0iLCJhbmd1bGFyXG4ubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcilcblxuXG5cbmZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcigkc2NvcGUsVXNlclNlcnZpY2UgKSB7XG4gICAgaW5pdCgpOyBcblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgJHNjb3BlLmNyZWF0ZVVzZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUscGFzc3dvcmQpIHtcbiAgICAgICAgVXNlclNlcnZpY2UuY3JlYXRlVXNlcih1c2VybmFtZSxwYXNzd29yZClcbiAgICAgICAgLnRoZW4gKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIH1cbn1cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG4gICAgJ25nUm91dGUnXG5dKVxuLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcbiAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ29udHJvbGxlcicgLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uIChfLHVzZXIgKSB7XG4gICAgICAgICRzY29wZS5jdXJyZW50VXNlcj11c2VyXG4gICAgfSlcbn0pIiwiYW5ndWxhclxuLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdQb3N0c1NlcnZpY2UnLCBmdW5jdGlvbiAoJGh0dHApIHtcblxuICAgIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3RzJ1xuICAgICAgICB9KVxuXG4gICAgfVxuICAgIHRoaXMuY3JlYXRlPSBmdW5jdGlvbihwb3N0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBvc3QpXG4gICAgICAgIHJldHVybiAgJGh0dHAoe1xuICAgICAgICAgICAgdXJsOiAnL2FwaS9wb3N0cycsXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YTogcG9zdFxuICAgICAgICB9KVxuICAgIH1cbiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiAgICAkaHR0cCh7XG4gICAgICAgICAgICB1cmw6ICcvYXBpL3JlbW92ZVBvc3QnLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGE6IGlkXG4gICAgfSl9fSkiLCJhbmd1bGFyXG4ubW9kdWxlKCdhcHAnKVxuLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC53aGVuKCcvJywge2NvbnRyb2xsZXI6ICdQb3N0c0NvbnRyb2xsZXInLCB0ZW1wbGF0ZVVybDoncG9zdHMuaHRtbCd9KVxuICAgIC53aGVuKCcvcmVnaXN0ZXInLCB7Y29udHJvbGxlcjonUmVnaXN0ZXJDb250cm9sbGVyJywgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5odG1sJ30pXG4gICAgLndoZW4oJy9sb2dpbicsIHtjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJywgdGVtcGxhdGVVcmw6J2xvZ2luLmh0bWwnfSk7XG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcmVxdWlyZUJhc2U6IGZhbHNlXG59KTtcbn0pIiwiYW5ndWxhclxuLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdVc2VyU2VydmljZScsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgdmFyIHN2YyA9IHRoaXM7XG4gICB0aGlzLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAgJGh0dHAoe1xuICAgICAgICAgICAgdXJsOiAnL2FwaS91c2VycycsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgICAgfSlcbiAgICB9XG4gICB0aGlzLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkKSB7XG5cbiAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICB1cmw6ICcvYXBpL3Nlc3Npb25zJyxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgZGF0YToge3VzZXJuYW1lOnVzZXJuYW1lLCBwYXNzd29yZDpwYXNzd29yZH1cbiAgICB9KVxuICAgIC50aGVuIChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHN2Yy50b2tlbiA9IHZhbC5kYXRhXG4gICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGE7XG4gICAgICAgIHJldHVybiBzdmMuZ2V0VXNlcigpXG4gICAgfVxuICAgIFxuICAgICAgICl9XG4gICAgdGhpcy5jcmVhdGVVc2VyICA9IGZ1bmN0aW9uKHVzZXJuYW1lLHBhc3N3b3JkKSB7XG4gcmV0dXJuICRodHRwKHtcbiAgICAgICAgdXJsOiAnL2FwaS91c2VycycsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGRhdGE6IHt1c2VybmFtZTp1c2VybmFtZSwgcGFzc3dvcmQ6cGFzc3dvcmR9XG4gICAgfSlcbiAgICAudGhlbiAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3ZjLmxvZ2luKHVzZXJuYW1lLHBhc3N3b3JkKVxuICAgIH0pXG4gICAgIFxuICAgIFxufX0pIl19
